{"version":3,"file":"jobcards.min.js","sources":["../../../../apps/csf_tz/csf_tz/public/js/jobcards/bus.js","../../../../apps/csf_tz/csf_tz/public/js/jobcards/Card.vue?rollup-plugin-vue=script.js","../../../../apps/csf_tz/csf_tz/public/js/jobcards/JobCards.vue?rollup-plugin-vue=script.js","../../../../apps/csf_tz/csf_tz/public/js/jobcards/jobcards.js"],"sourcesContent":["export const evntBus = new Vue();","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { evntBus } from \"./bus\";\nexport default {\n  data: () => ({\n    Dialog: false,\n    cardData: \"\",\n    start: false,\n    employees: \"\",\n  }),\n  watch: {\n    Dialog(value) {\n      if (value) {\n        this.get_employees();\n      }\n    },\n  },\n  methods: {\n    close_dialog() {\n      this.Dialog = false;\n    },\n    start_por() {\n      if (!this.cardData.employee) {\n        evntBus.$emit(\"show_messag\", \"Please set Employee\");\n      } else {\n        this.start = true;\n      }\n    },\n    pause_por() {\n      this.start = false;\n    },\n    get_employees() {\n      const vm = this;\n      let employees;\n      frappe.call({\n        method: \"csf_tz.csf_tz.page.jobcards.jobcards.get_employees\",\n        args: { company: this.cardData.company },\n        async: false,\n        callback: function (r) {\n          if (r.message) {\n            employees = r.message;\n          }\n        },\n      });\n      this.employees = employees;\n    },\n    customFilter(item, queryText, itemText) {\n      const searchText = queryText.toLowerCase()\n      const textOne = item.name.toLowerCase();\n      const textTwo = item.employee_name.toLowerCase();\n\n      return (\n        textOne.indexOf(searchText) > -1 || textTwo.indexOf(searchText) > -1\n      );\n    },\n  },\n  created: function () {\n    evntBus.$on(\"open_card\", (job_card) => {\n      this.Dialog = true;\n      this.cardData = job_card;\n    });\n  },\n};\n","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { evntBus } from \"./bus\";\nimport Card from \"./Card.vue\";\n\nexport default {\n  data: function () {\n    return {\n      data: \"\",\n    };\n  },\n  components: {\n    Card,\n  },\n\n  methods: {\n    get_data() {\n      const vm = this;\n      frappe.call({\n        method: \"csf_tz.csf_tz.page.jobcards.jobcards.get_job_cards\",\n        args: {},\n        async: true,\n        callback: function (r) {\n          if (r.message) {\n            vm.data = r.message;\n          }\n        },\n      });\n    },\n    open_card(item) {\n      evntBus.$emit(\"open_card\", item);\n    },\n    set_status_color(status) {\n      if (status == \"Open\") {\n        return \"status-Open\";\n      }\n      if (status == \"Work In Progress\") {\n        return \"status-Work\";\n      }\n      if (status == \"Material Transferred\") {\n        return \"status-Material\";\n      }\n      if (status == \"On Hold\") {\n        return \"status-Hold\";\n      }\n      if (status == \"Submitted\") {\n        return \"status-Submitted\";\n      }\n    },\n  },\n  created: function () {\n    this.get_data();\n    evntBus.$on(\"show_messag\", (msg) => {\n      frappe.msgprint(msg);\n    });\n  },\n};\n","import Job_Cards from './JobCards.vue';\n\nfrappe.provide('frappe.JobCards');\n\n\nfrappe.JobCards.job_cards = class {\n        constructor({ parent }) {\n                this.$parent = $(parent);\n                this.page = parent.page;\n                this.make_body();\n        }\n        make_body() {\n                this.$EL = this.$parent.find('.layout-main');\n                this.vue = new Vue({\n                        vuetify: new Vuetify(),\n                        el: this.$EL[0],\n                        data: {\n                        },\n                        render: h => h(Job_Cards),\n                });\n        }\n        setup_header() {\n\n        }\n};"],"names":["const","evntBus","Vue","data","Dialog","cardData","start","employees","watch","value","this","get_employees","methods","close_dialog","start_por","employee","$emit","pause_por","let","frappe","call","method","args","company","async","callback","r","message","customFilter","item","queryText","itemText","searchText","toLowerCase","textOne","name","textTwo","employee_name","indexOf","created","$on","job_card","components","get_data","vm","open_card","set_status_color","status","msg","msgprint","provide","JobCards","job_cards","[object Object]","ref","$parent","$","parent","page","make_body","$EL","find","vue","vuetify","Vuetify","el","render","h","Job_Cards"],"mappings":"yBAAOA,IAAMC,EAAU,IAAIC,MCgHZ,CACbC,uBACEC,QAAQ,EACRC,SAAU,GACVC,OAAO,EACPC,UAAW,KAEbC,MAAO,CACLJ,gBAAOK,GACDA,GACFC,KAAKC,kBAIXC,QAAS,CACPC,wBACEH,KAAKN,QAAS,GAEhBU,qBACOJ,KAAKL,SAASU,SAGjBL,KAAKJ,OAAQ,EAFbL,EAAQe,MAAM,cAAe,wBAKjCC,qBACEP,KAAKJ,OAAQ,GAEfK,yBAEEO,IAAIX,EACJY,OAAOC,KAAK,CACVC,OAAQ,qDACRC,KAAM,CAAEC,QAASb,KAAKL,SAASkB,SAC/BC,OAAO,EACPC,SAAU,SAAUC,GACdA,EAAEC,UACJpB,EAAYmB,EAAEC,YAIpBjB,KAAKH,UAAYA,GAEnBqB,sBAAaC,EAAMC,EAAWC,GAC5B/B,IAAMgC,EAAaF,EAAUG,cACvBC,EAAUL,EAAKM,KAAKF,cACpBG,EAAUP,EAAKQ,cAAcJ,cAEnC,OACEC,EAAQI,QAAQN,IAAe,GAAKI,EAAQE,QAAQN,IAAe,IAIzEO,QAAS,sBACPtC,EAAQuC,IAAI,qBAAcC,GACxB/B,EAAKN,QAAS,EACdM,EAAKL,SAAWoC,g/FC/GP,CACbtC,KAAM,WACJ,MAAO,CACLA,KAAM,KAGVuC,WAAY,uiEAIZ9B,QAAS,CACP+B,oBACE3C,IAAM4C,EAAKlC,KACXS,OAAOC,KAAK,CACVC,OAAQ,qDACRC,KAAM,GACNE,OAAO,EACPC,SAAU,SAAUC,GACdA,EAAEC,UACJiB,EAAGzC,KAAOuB,EAAEC,aAKpBkB,mBAAUhB,GACR5B,EAAQe,MAAM,YAAaa,IAE7BiB,0BAAiBC,GACf,MAAc,QAAVA,EACK,cAEK,oBAAVA,EACK,cAEK,wBAAVA,EACK,kBAEK,WAAVA,EACK,cAEK,aAAVA,EACK,wBADT,IAKJR,QAAS,WACP7B,KAAKiC,WACL1C,EAAQuC,IAAI,uBAAgBQ,GAC1B7B,OAAO8B,SAASD,6jOCvGtB7B,OAAO+B,QAAQ,mBAGf/B,OAAOgC,SAASC,UAAY,MACpBC,YAAYC,kBACJ5C,KAAK6C,QAAUC,EAAEC,GACjB/C,KAAKgD,KAAOD,EAAOC,KACnBhD,KAAKiD,YAEbN,YACQ3C,KAAKkD,IAAMlD,KAAK6C,QAAQM,KAAK,gBAC7BnD,KAAKoD,IAAM,IAAI5D,IAAI,CACX6D,QAAS,IAAIC,QACbC,GAAIvD,KAAKkD,IAAI,GACbzD,KAAM,GAEN+D,gBAAQC,UAAKA,EAAEC,MAG/Bf"}