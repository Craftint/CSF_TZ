{"version":3,"file":"jobcards.min.js","sources":["../../../../apps/csf_tz/csf_tz/public/js/jobcards/bus.js","../../../../apps/csf_tz/csf_tz/public/js/jobcards/Card.vue?rollup-plugin-vue=script.js","../../../../apps/csf_tz/csf_tz/public/js/jobcards/Card.vue","../../../../apps/csf_tz/csf_tz/public/js/jobcards/JobCards.vue?rollup-plugin-vue=script.js","../../../../apps/csf_tz/csf_tz/public/js/jobcards/JobCards.vue","../../../../apps/csf_tz/csf_tz/public/js/jobcards/jobcards.js"],"sourcesContent":["export const evntBus = new Vue();","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { evntBus } from \"./bus\";\nexport default {\n  data: () => ({\n    Dialog: false,\n    cardData: \"\",\n  }),\n  watch: {},\n  methods: {\n    close_dialog() {\n      this.Dialog = false;\n    },\n  },\n  created: function () {\n    evntBus.$on(\"open_card\", (job_card) => {\n      this.Dialog = true;\n      this.cardData = job_card;\n    });\n  },\n};\n","<template>\n  <div justify=\"center\" v-if=\"Dialog\">\n    <v-dialog v-model=\"Dialog\" max-width=\"1200px\">\n      <v-card>\n        <v-card-title>\n          <span class=\"headline indigo--text\">{{\n            cardData.operation.name\n          }}</span>\n        </v-card-title>\n        <v-row class=\"mx-3\">\n          <v-col cols=\"5\">\n            <v-img\n              max-height=\"600\"\n              max-width=\"600\"\n              :src=\"cardData.operation.image\"\n            >\n            </v-img>\n          </v-col>\n          <v-col cols=\"4\">\n            <v-card-text class=\"pa-0\">\n              <v-list-item three-line>\n                <v-list-item-content>\n                  <div class=\"overline mb-4\">{{ cardData.name }}</div>\n                  <v-textarea\n                    label=\"Operation Description\"\n                    auto-grow\n                    outlined\n                    rows=\"3\"\n                    row-height=\"25\"\n                    disabled\n                    v-model=\"cardData.operation.description\"\n                    shaped>\n                  </v-textarea>\n                  <v-list-item-subtitle>\n                    QTY: {{ cardData.for_quantity }}\n                  </v-list-item-subtitle>\n                  <v-list-item-subtitle>\n                    Production Item: {{ cardData.production_item }}\n                  </v-list-item-subtitle>\n                  <v-list-item-subtitle>\n                    Satus: {{ cardData.status }}\n                  </v-list-item-subtitle>\n                </v-list-item-content>\n              </v-list-item>\n            </v-card-text>\n          </v-col>\n          <v-col cols=\"3\">\n            <v-img\n              max-height=\"400\"\n              max-width=\"400\"\n              :src=\"cardData.work_order_image\"\n            >\n            </v-img>\n          </v-col>\n        </v-row>\n        <v-card-actions class=\"mx-3\">\n          <v-btn color=\"primary\" dark @click=\"close_dialog\">Start</v-btn>\n          <v-spacer></v-spacer>\n          <v-btn color=\"error\" dark @click=\"close_dialog\">Close</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </div>\n</template>\n\n<script>\nimport { evntBus } from \"./bus\";\nexport default {\n  data: () => ({\n    Dialog: false,\n    cardData: \"\",\n  }),\n  watch: {},\n  methods: {\n    close_dialog() {\n      this.Dialog = false;\n    },\n  },\n  created: function () {\n    evntBus.$on(\"open_card\", (job_card) => {\n      this.Dialog = true;\n      this.cardData = job_card;\n    });\n  },\n};\n</script>","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { evntBus } from \"./bus\";\nimport Card from \"./Card.vue\";\n\nexport default {\n  data: function () {\n    return {\n      data: \"\",\n    };\n  },\n  components: {\n    Card,\n  },\n\n  methods: {\n    get_data() {\n      const vm = this;\n      frappe.call({\n        method: \"csf_tz.csf_tz.page.jobcards.jobcards.get_job_cards\",\n        args: {},\n        async: true,\n        callback: function (r) {\n          if (r.message) {\n            vm.data = r.message;\n          }\n        },\n      });\n    },\n    open_card(item) {\n      evntBus.$emit(\"open_card\", item);\n    },\n    set_status_color(status){\n      if (status == \"Open\") {\n        return \"status-Open\"\n      }\n      if (status == \"Work In Progress\") {\n        return \"status-Work\"\n      }\n      if (status == \"Material Transferred\") {\n        return \"status-Material\"\n      }\n      if (status == \"On Hold\") {\n        return \"status-Hold\"\n      }\n      if (status == \"Submitted\") {\n        return \"status-Submitted\"\n      }\n    }\n  },\n  created: function () {\n    this.get_data();\n  },\n};\n","<template>\n  <v-app>\n    <div fluid>\n      <H3> Working Job Cards</H3>\n      <Card></Card>\n      <div v-for=\"item in data\" :key=\"item.name\">\n        <div :class=\"set_status_color(item.status)\">\n          <v-card class=\"mb-4\">\n            <v-list-item three-line>\n              <v-list-item-content>\n                <div class=\"overline mb-4\">{{ item.name }}</div>\n                <v-list-item-title class=\"headline mb-1\">\n                  {{ item.operation.name }}\n                </v-list-item-title>\n                <v-list-item-subtitle>\n                  QTY: {{ item.for_quantity }}\n                </v-list-item-subtitle>\n                <v-list-item-subtitle>\n                  Production Item: {{ item.production_item }}\n                </v-list-item-subtitle>\n                <v-list-item-subtitle>\n                  Satus: {{ item.status }}\n                </v-list-item-subtitle>\n                <v-card-subtitle v-if=\"item.current_time\">Current Time: {{ item.current_time/60 }}</v-card-subtitle>\n              </v-list-item-content>\n\n              <v-img\n                max-height=\"150\"\n                max-width=\"250\"\n                :src=\"item.operation.image\"\n              ></v-img>\n            </v-list-item>\n\n            <v-card-actions>\n              <!-- <v-spacer></v-spacer> -->\n              <v-btn text color=\"primary\" @click=\"open_card(item)\">\n                open\n              </v-btn>\n            </v-card-actions>\n          </v-card>\n        </div>\n      </div>\n    </div>\n  </v-app>\n</template>\n\n<script>\nimport { evntBus } from \"./bus\";\nimport Card from \"./Card.vue\";\n\nexport default {\n  data: function () {\n    return {\n      data: \"\",\n    };\n  },\n  components: {\n    Card,\n  },\n\n  methods: {\n    get_data() {\n      const vm = this;\n      frappe.call({\n        method: \"csf_tz.csf_tz.page.jobcards.jobcards.get_job_cards\",\n        args: {},\n        async: true,\n        callback: function (r) {\n          if (r.message) {\n            vm.data = r.message;\n          }\n        },\n      });\n    },\n    open_card(item) {\n      evntBus.$emit(\"open_card\", item);\n    },\n    set_status_color(status){\n      if (status == \"Open\") {\n        return \"status-Open\"\n      }\n      if (status == \"Work In Progress\") {\n        return \"status-Work\"\n      }\n      if (status == \"Material Transferred\") {\n        return \"status-Material\"\n      }\n      if (status == \"On Hold\") {\n        return \"status-Hold\"\n      }\n      if (status == \"Submitted\") {\n        return \"status-Submitted\"\n      }\n    }\n  },\n  created: function () {\n    this.get_data();\n  },\n};\n</script>\n<style>\n.navbar-default {\n  height: 40px;\n}\ndiv.navbar .container {\n  padding-top: 2px;\n}\n.status-Open {\n  border-left: 5px solid purple;\n}\n.status-Work {\n  border-left: 5px solid lime;\n}\n.status-Material {\n  border-left: 5px solid teal;\n}\n.status-Hold {\n  border-left: 5px solid #607D8B;\n}\n.status-Submitted {\n  border-left: 5px solid #FF5722;\n}\n</style>","import Job_Cards from './JobCards.vue';\n\nfrappe.provide('frappe.JobCards');\n\n\nfrappe.JobCards.job_cards = class {\n        constructor({ parent }) {\n                this.$parent = $(parent);\n                this.page = parent.page;\n                this.make_body();\n        }\n        make_body() {\n                this.$EL = this.$parent.find('.layout-main');\n                this.vue = new Vue({\n                        vuetify: new Vuetify(),\n                        el: this.$EL[0],\n                        data: {\n                        },\n                        render: h => h(Job_Cards),\n                });\n        }\n        setup_header() {\n\n        }\n};"],"names":["const","this"],"mappings":"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"}