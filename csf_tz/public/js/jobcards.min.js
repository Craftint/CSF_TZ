!function(){"use strict";var t=new Vue,e={data:function(){return{Dialog:!1,cardData:""}},watch:{},methods:{close_dialog:function(){this.Dialog=!1}},created:function(){var e=this;t.$on("open_card",function(t){e.Dialog=!0,e.cardData=t})}},n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.Dialog?n("div",{attrs:{justify:"center"}},[n("v-dialog",{attrs:{"max-width":"1200px"},model:{value:t.Dialog,callback:function(e){t.Dialog=e},expression:"Dialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline indigo--text"},[t._v(t._s(t.cardData.operation.name))])]),t._v(" "),n("v-row",{staticClass:"mx-3"},[n("v-col",{attrs:{cols:"5"}},[n("v-img",{attrs:{"max-height":"600","max-width":"600",src:t.cardData.operation.image}})],1),t._v(" "),n("v-col",{attrs:{cols:"4"}},[n("v-card-text",{staticClass:"pa-0"},[n("v-list-item",{attrs:{"three-line":""}},[n("v-list-item-content",[n("div",{staticClass:"overline mb-4"},[t._v(t._s(t.cardData.name))]),t._v(" "),n("v-textarea",{attrs:{label:"Operation Description","auto-grow":"",outlined:"",rows:"3","row-height":"25",disabled:"",shaped:""},model:{value:t.cardData.operation.description,callback:function(e){t.$set(t.cardData.operation,"description",e)},expression:"cardData.operation.description"}}),t._v(" "),n("v-list-item-subtitle",[t._v("\n                  QTY: "+t._s(t.cardData.for_quantity)+"\n                ")]),t._v(" "),n("v-list-item-subtitle",[t._v("\n                  Production Item: "+t._s(t.cardData.production_item)+"\n                ")]),t._v(" "),n("v-list-item-subtitle",[t._v("\n                  Satus: "+t._s(t.cardData.status)+"\n                ")])],1)],1)],1)],1),t._v(" "),n("v-col",{attrs:{cols:"3"}},[n("v-img",{attrs:{"max-height":"400","max-width":"400",src:t.cardData.work_order_image}})],1)],1),t._v(" "),n("v-card-actions",{staticClass:"mx-3"},[n("v-btn",{attrs:{color:"primary",dark:""},on:{click:t.close_dialog}},[t._v("Start")]),t._v(" "),n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"error",dark:""},on:{click:t.close_dialog}},[t._v("Close")])],1)],1)],1)],1):t._e()};n._withStripped=!0;var a={data:function(){return{data:""}},components:{Card:function(t,e,n,a,s,i,r,o){var d=("function"==typeof n?n.options:n)||{};return d.__file="/home/frappe/frappe-bench/apps/csf_tz/csf_tz/public/js/jobcards/Card.vue",d.render||(d.render=t.render,d.staticRenderFns=t.staticRenderFns,d._compiled=!0,s&&(d.functional=!0)),d._scopeId=a,d}({render:n,staticRenderFns:[]},0,e,void 0,!1)},methods:{get_data:function(){var t=this;frappe.call({method:"csf_tz.csf_tz.page.jobcards.jobcards.get_job_cards",args:{},async:!0,callback:function(e){e.message&&(t.data=e.message)}})},open_card:function(e){t.$emit("open_card",e)},set_status_color:function(t){return"Open"==t?"status-Open":"Work In Progress"==t?"status-Work":"Material Transferred"==t?"status-Material":"On Hold"==t?"status-Hold":"Submitted"==t?"status-Submitted":void 0}},created:function(){this.get_data()}},s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("div",{attrs:{fluid:""}},[n("H3",[t._v(" Working Job Cards")]),t._v(" "),n("Card"),t._v(" "),t._l(t.data,function(e){return n("div",{key:e.name},[n("div",{class:t.set_status_color(e.status)},[n("v-card",{staticClass:"mb-4"},[n("v-list-item",{attrs:{"three-line":""}},[n("v-list-item-content",[n("div",{staticClass:"overline mb-4"},[t._v(t._s(e.name))]),t._v(" "),n("v-list-item-title",{staticClass:"headline mb-1"},[t._v("\n                "+t._s(e.operation.name)+"\n              ")]),t._v(" "),n("v-list-item-subtitle",[t._v("\n                QTY: "+t._s(e.for_quantity)+"\n              ")]),t._v(" "),n("v-list-item-subtitle",[t._v("\n                Production Item: "+t._s(e.production_item)+"\n              ")]),t._v(" "),n("v-list-item-subtitle",[t._v("\n                Satus: "+t._s(e.status)+"\n              ")]),t._v(" "),e.current_time?n("v-card-subtitle",[t._v("Current Time: "+t._s(e.current_time/60))]):t._e()],1),t._v(" "),n("v-img",{attrs:{"max-height":"150","max-width":"250",src:e.operation.image}})],1),t._v(" "),n("v-card-actions",[n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(n){return t.open_card(e)}}},[t._v("\n              open\n            ")])],1)],1)],1)])})],2)])};s._withStripped=!0;var i=function(t,e,n,a,s,i,r,o){var d,c=("function"==typeof n?n.options:n)||{};if(c.__file="/home/frappe/frappe-bench/apps/csf_tz/csf_tz/public/js/jobcards/JobCards.vue",c.render||(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0,s&&(c.functional=!0)),c._scopeId=a,e&&(d=function(t){e.call(this,r(t))}),void 0!==d)if(c.functional){var l=c.render;c.render=function(t,e){return d.call(e),l(t,e)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,d):[d]}return c}({render:s,staticRenderFns:[]},function(t){t&&t("data-v-deecce82_0",{source:"\n.navbar-default {\n  height: 40px;\n}\ndiv.navbar .container {\n  padding-top: 2px;\n}\n.status-Open {\n  border-left: 5px solid purple;\n}\n.status-Work {\n  border-left: 5px solid lime;\n}\n.status-Material {\n  border-left: 5px solid teal;\n}\n.status-Hold {\n  border-left: 5px solid #607D8B;\n}\n.status-Submitted {\n  border-left: 5px solid #FF5722;\n}\n",map:{version:3,sources:["/home/frappe/frappe-bench/apps/csf_tz/csf_tz/public/js/jobcards/JobCards.vue"],names:[],mappings:";AAqGA;EACA,YAAA;AACA;AACA;EACA,gBAAA;AACA;AACA;EACA,6BAAA;AACA;AACA;EACA,2BAAA;AACA;AACA;EACA,2BAAA;AACA;AACA;EACA,8BAAA;AACA;AACA;EACA,8BAAA;AACA",file:"JobCards.vue",sourcesContent:['<template>\n  <v-app>\n    <div fluid>\n      <H3> Working Job Cards</H3>\n      <Card></Card>\n      <div v-for="item in data" :key="item.name">\n        <div :class="set_status_color(item.status)">\n          <v-card class="mb-4">\n            <v-list-item three-line>\n              <v-list-item-content>\n                <div class="overline mb-4">{{ item.name }}</div>\n                <v-list-item-title class="headline mb-1">\n                  {{ item.operation.name }}\n                </v-list-item-title>\n                <v-list-item-subtitle>\n                  QTY: {{ item.for_quantity }}\n                </v-list-item-subtitle>\n                <v-list-item-subtitle>\n                  Production Item: {{ item.production_item }}\n                </v-list-item-subtitle>\n                <v-list-item-subtitle>\n                  Satus: {{ item.status }}\n                </v-list-item-subtitle>\n                <v-card-subtitle v-if="item.current_time">Current Time: {{ item.current_time/60 }}</v-card-subtitle>\n              </v-list-item-content>\n\n              <v-img\n                max-height="150"\n                max-width="250"\n                :src="item.operation.image"\n              ></v-img>\n            </v-list-item>\n\n            <v-card-actions>\n              \x3c!-- <v-spacer></v-spacer> --\x3e\n              <v-btn text color="primary" @click="open_card(item)">\n                open\n              </v-btn>\n            </v-card-actions>\n          </v-card>\n        </div>\n      </div>\n    </div>\n  </v-app>\n</template>\n\n<script>\nimport { evntBus } from "./bus";\nimport Card from "./Card.vue";\n\nexport default {\n  data: function () {\n    return {\n      data: "",\n    };\n  },\n  components: {\n    Card,\n  },\n\n  methods: {\n    get_data() {\n      const vm = this;\n      frappe.call({\n        method: "csf_tz.csf_tz.page.jobcards.jobcards.get_job_cards",\n        args: {},\n        async: true,\n        callback: function (r) {\n          if (r.message) {\n            vm.data = r.message;\n          }\n        },\n      });\n    },\n    open_card(item) {\n      evntBus.$emit("open_card", item);\n    },\n    set_status_color(status){\n      if (status == "Open") {\n        return "status-Open"\n      }\n      if (status == "Work In Progress") {\n        return "status-Work"\n      }\n      if (status == "Material Transferred") {\n        return "status-Material"\n      }\n      if (status == "On Hold") {\n        return "status-Hold"\n      }\n      if (status == "Submitted") {\n        return "status-Submitted"\n      }\n    }\n  },\n  created: function () {\n    this.get_data();\n  },\n};\n<\/script>\n<style>\n.navbar-default {\n  height: 40px;\n}\ndiv.navbar .container {\n  padding-top: 2px;\n}\n.status-Open {\n  border-left: 5px solid purple;\n}\n.status-Work {\n  border-left: 5px solid lime;\n}\n.status-Material {\n  border-left: 5px solid teal;\n}\n.status-Hold {\n  border-left: 5px solid #607D8B;\n}\n.status-Submitted {\n  border-left: 5px solid #FF5722;\n}\n</style>']},media:void 0})},a,void 0,!1,0,function t(){var e=document.head||document.getElementsByTagName("head")[0],n=t.styles||(t.styles={}),a="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(t,s){if(!document.querySelector('style[data-vue-ssr-id~="'+t+'"]')){var i=a?s.media||"default":t,r=n[i]||(n[i]={ids:[],parts:[],element:void 0});if(!r.ids.includes(t)){var o=s.source,d=r.ids.length;if(r.ids.push(t),a&&(r.element=r.element||document.querySelector("style[data-group="+i+"]")),!r.element){var c=r.element=document.createElement("style");c.type="text/css",s.media&&c.setAttribute("media",s.media),a&&(c.setAttribute("data-group",i),c.setAttribute("data-next-index","0")),e.appendChild(c)}if(a&&(d=parseInt(r.element.getAttribute("data-next-index")),r.element.setAttribute("data-next-index",d+1)),r.element.styleSheet)r.parts.push(o),r.element.styleSheet.cssText=r.parts.filter(Boolean).join("\n");else{var l=document.createTextNode(o),u=r.element.childNodes;u[d]&&r.element.removeChild(u[d]),u.length?r.element.insertBefore(l,u[d]):r.element.appendChild(l)}}}}});frappe.provide("frappe.JobCards"),frappe.JobCards.job_cards=class{constructor(t){var e=t.parent;this.$parent=$(e),this.page=e.page,this.make_body()}make_body(){this.$EL=this.$parent.find(".layout-main"),this.vue=new Vue({vuetify:new Vuetify,el:this.$EL[0],data:{},render:function(t){return t(i)}})}setup_header(){}}}();
//# sourceMappingURL=jobcards.min.js.map
